.\"  Licensed to the Apache Software Foundation (ASF) under one .\"
.\"  or more contributor license agreements.  See the NOTICE file .\"
.\"  distributed with this work for additional information .\"
.\"  regarding copyright ownership.  The ASF licenses this file .\"
.\"  to you under the Apache License, Version 2.0 (the .\"
.\"  "License"); you may not use this file except in compliance .\"
.\"  with the License.  You may obtain a copy of the License at .\"
.\" .\"
.\"      http://www.apache.org/licenses/LICENSE-2.0 .\"
.\" .\"
.\"  Unless required by applicable law or agreed to in writing, software .\"
.\"  distributed under the License is distributed on an "AS IS" BASIS, .\"
.\"  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. .\"
.\"  See the License for the specific language governing permissions and .\"
.\"  limitations under the License. .\"
.TH "config:icp"
.SH NAME
config:icp \- Configures ICP caching.
.SH SYNOPSIS
config:icp [options]
.SH DESCRIPTION
The config:icp command enables you to configure ICP caching through a variety of 
options. Use the config:icp command with options to configure mode, port 
numbers, timeouts, and to enable ICP multicast. You must use one of the options 
described below.
.SH OPTIONS
The following options are supported for the config:icp command:
.SS "mode <receive | send-receive | disabled>"
Sets the ICP mode for hierarchical caching. Type receive if you want to allow 
the proxy to only receive ICP queries. Type send-receive if you want the proxy 
to both send and receive ICP queries. Type disabled if you want to disable the 
proxy from sending and receiving ICP queries. (The default value is disabled.)
.SS "port <portnum>"
Specifies the UDP port that you want to use for ICP messages. (The default is 
3130.)
.SS "multicast <on | off>"
Enables (on) or disables (off) ICP multicast. (The default value is off.)
.SS "query-timeout <seconds>"
Specifies the timeout duration in seconds used for ICP queries. (The default value is 2.)
.SS "query-timeout <seconds>"
Retrieves (and updates) your icp.config file from a URL that you specify.
.SH EXAMPLES
.SS "Example 1. Enabling the proxy to receive ICP queries"
.PP
.nf
traffic_shell> config:icp mode receive
traffic_shell> 
.SS "Example 2. Specifying UDP port number 3130 for ICP messages"
.PP
.nf
traffic_shell> config:icp port 3130
traffic_shell> 
.SS "Example 3. Enabling ICP multicast"
.PP
.nf
traffic_shell> config:icp multicast on
traffic_shell> 
.SS "Example 4. Specifying an ICP query timeout duration of two"
.SS "           seconds"
.PP
.nf
traffic_shell> config:icp query-timeout 2
traffic_shell> 
.SS "Example 5. Specifying a URL from which the proxy should"
.SS "           retrieve and install or update your icp.config"
.SS "           file"
.PP
.nf
traffic_shell> config:icp peers http://somedomain.com/path/icp.config
traffic_shell> 
.SH "SEE ALSO"
show:icp, show:icp-stats
