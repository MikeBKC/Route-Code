<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>WifiDog: conf.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>conf.h File Reference</h1>Config file parsing. <a href="#_details">More...</a>
<p>

<p>
<a href="conf_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__auth__serv__t.html">_auth_serv_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__firewall__rule__t.html">_firewall_rule_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__firewall__ruleset__t.html">_firewall_ruleset_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__trusted__mac__t.html">_trusted_mac_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__config.html">s_config</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>LOCK_CONFIG</b>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>UNLOCK_CONFIG</b>()</td></tr>

<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#771a6a60dbaa6c7532ab6cd31b397f7d">NUM_EXT_INTERFACE_DETECT_RETRY</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#b67c119b3d066438d4c3405b518bb289">EXT_INTERFACE_DETECT_RETRY_INTERVAL</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#0ec3017454ea7a8398d25c8ab83890fd">DEFAULT_CONFIGFILE</a>&nbsp;&nbsp;&nbsp;&quot;/etc/wifidog.conf&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#16581929d818bc322bbebce8a7a12117">DEFAULT_HTMLMSGFILE</a>&nbsp;&nbsp;&nbsp;&quot;/etc/wifidog-msg.html&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#c71029bbf7b0ee40ad72b17ff77f7896">DEFAULT_DAEMON</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#32198b3d9cda9e7ea18d9680f805dc87">DEFAULT_DEBUGLEVEL</a>&nbsp;&nbsp;&nbsp;LOG_INFO</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#ca85302a5a857716f3b0275fbbff135f">DEFAULT_HTTPDMAXCONN</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#e38786151577e46b298b7baf0ca0fe96">DEFAULT_GATEWAYID</a>&nbsp;&nbsp;&nbsp;NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#f14cf5aa96a948b2d23a1ff0aeba3e48">DEFAULT_GATEWAYPORT</a>&nbsp;&nbsp;&nbsp;2060</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#af813a168a0bd5a77aa515073950a135">DEFAULT_HTTPDNAME</a>&nbsp;&nbsp;&nbsp;&quot;WiFiDog&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#1ea67d2117d4f50445d1c9428bac5a64">DEFAULT_CLIENTTIMEOUT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#9bcb72263ba584b1da18d3b2f2b65e6a">DEFAULT_CHECKINTERVAL</a>&nbsp;&nbsp;&nbsp;60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#41ce987eea16297a459249b1e4c69ed7">DEFAULT_LOG_SYSLOG</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#66cff01e093b0b7d5335a7939f839341">DEFAULT_SYSLOG_FACILITY</a>&nbsp;&nbsp;&nbsp;LOG_DAEMON</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#cee7c0173f525e29800b87222b407386">DEFAULT_WDCTL_SOCK</a>&nbsp;&nbsp;&nbsp;&quot;/tmp/wdctl.sock&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#ea1d1da1ff4c9161109a81a0b1d6fd2c">DEFAULT_INTERNAL_SOCK</a>&nbsp;&nbsp;&nbsp;&quot;/tmp/wifidog.sock&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#4468d0b44b441d03ea8270e09de86f65">DEFAULT_AUTHSERVPORT</a>&nbsp;&nbsp;&nbsp;80</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#eecec081c6ba90900777bc8db01f774f">DEFAULT_AUTHSERVSSLPORT</a>&nbsp;&nbsp;&nbsp;443</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#784fe164c1e4d1e62365a2505460592a">DEFAULT_AUTHSERVSSLAVAILABLE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#d1127f95cef99fe1384a30fca8b9c392">DEFAULT_AUTHSERVPATH</a>&nbsp;&nbsp;&nbsp;&quot;/wifidog/&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#12e10b7db61ec0a23264d2a7762c6ef3">DEFAULT_AUTHSERVLOGINPATHFRAGMENT</a>&nbsp;&nbsp;&nbsp;&quot;login/?&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#29ca3acd6665cd70286185f3dd4ab09d">DEFAULT_AUTHSERVPORTALPATHFRAGMENT</a>&nbsp;&nbsp;&nbsp;&quot;portal/?&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#d26385411b1807104fa1504dff7bfb0d">DEFAULT_AUTHSERVMSGPATHFRAGMENT</a>&nbsp;&nbsp;&nbsp;&quot;gw_message.php?&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#11ea6dd746ca0526817bdd6515cbcc29">DEFAULT_AUTHSERVPINGPATHFRAGMENT</a>&nbsp;&nbsp;&nbsp;&quot;ping/?&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#f83da39ab6845671d9b1a2bf635951fa">DEFAULT_AUTHSERVAUTHPATHFRAGMENT</a>&nbsp;&nbsp;&nbsp;&quot;auth/?&quot;</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dd3fb3e4a4d675d452c3c7926f60fac2"></a><!-- doxytag: member="conf.h::t_auth_serv" ref="dd3fb3e4a4d675d452c3c7926f60fac2" args="" -->
typedef struct <a class="el" href="struct__auth__serv__t.html">_auth_serv_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>t_auth_serv</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="90dfc8bedb1f49c67ee6aa006b73843b"></a><!-- doxytag: member="conf.h::t_firewall_rule" ref="90dfc8bedb1f49c67ee6aa006b73843b" args="" -->
typedef struct <a class="el" href="struct__firewall__rule__t.html">_firewall_rule_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>t_firewall_rule</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0fd56151aad780327b8968df38695580"></a><!-- doxytag: member="conf.h::t_firewall_ruleset" ref="0fd56151aad780327b8968df38695580" args="" -->
typedef struct <a class="el" href="struct__firewall__ruleset__t.html">_firewall_ruleset_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>t_firewall_ruleset</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cc46f3e3f6b7dbbf1f4e7a31553d9797"></a><!-- doxytag: member="conf.h::t_trusted_mac" ref="cc46f3e3f6b7dbbf1f4e7a31553d9797" args="" -->
typedef struct <a class="el" href="struct__trusted__mac__t.html">_trusted_mac_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>t_trusted_mac</b></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structs__config.html">s_config</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#64e73012596dd6628c18742c8046069f">config_get_config</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current gateway configuration.  <a href="#64e73012596dd6628c18742c8046069f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#068a358868c409bbd99d7eef3c988866">config_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the conf system.  <a href="#068a358868c409bbd99d7eef3c988866"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#17b6b425f18de3865e44b534c1f1f1cc">config_init_override</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the variables we override with the command line.  <a href="#17b6b425f18de3865e44b534c1f1f1cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#d3faac0efa0ac4c1032c0c54f7e93711">config_read</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the configuration file.  <a href="#d3faac0efa0ac4c1032c0c54f7e93711"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#0f9540b3f729ba3b3d31b613d3eca364">config_validate</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check that the configuration is valid.  <a href="#0f9540b3f729ba3b3d31b613d3eca364"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__auth__serv__t.html">t_auth_serv</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#82ffcd3c683aadc31aca9c53a2d2739a">get_auth_server</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the active auth server.  <a href="#82ffcd3c683aadc31aca9c53a2d2739a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#9d674c58e3d919b7cd55aa12ed52be3c">mark_auth_server_bad</a> (<a class="el" href="struct__auth__serv__t.html">t_auth_serv</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bump server to bottom of the list.  <a href="#9d674c58e3d919b7cd55aa12ed52be3c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__firewall__rule__t.html">t_firewall_rule</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="conf_8h.html#545ee1dadc18a259ffd0d798f999ddc3">get_ruleset</a> (const char *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetch a firewall rule set.  <a href="#545ee1dadc18a259ffd0d798f999ddc3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="af3b14d87ff5b04067f3f0911905c560"></a><!-- doxytag: member="conf.h::parse_trusted_mac_list" ref="af3b14d87ff5b04067f3f0911905c560" args="(char *)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>parse_trusted_mac_list</b> (char *)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Config file parsing. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Copyright (C) 2004 Philippe April &lt;<a href="mailto:papril777@yahoo.com">papril777@yahoo.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f83da39ab6845671d9b1a2bf635951fa"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVAUTHPATHFRAGMENT" ref="f83da39ab6845671d9b1a2bf635951fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVAUTHPATHFRAGMENT&nbsp;&nbsp;&nbsp;&quot;auth/?&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00069">69</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="12e10b7db61ec0a23264d2a7762c6ef3"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVLOGINPATHFRAGMENT" ref="12e10b7db61ec0a23264d2a7762c6ef3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVLOGINPATHFRAGMENT&nbsp;&nbsp;&nbsp;&quot;login/?&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00065">65</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d26385411b1807104fa1504dff7bfb0d"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVMSGPATHFRAGMENT" ref="d26385411b1807104fa1504dff7bfb0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVMSGPATHFRAGMENT&nbsp;&nbsp;&nbsp;&quot;gw_message.php?&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00067">67</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d1127f95cef99fe1384a30fca8b9c392"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVPATH" ref="d1127f95cef99fe1384a30fca8b9c392" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVPATH&nbsp;&nbsp;&nbsp;&quot;/wifidog/&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Note: The path must be prefixed by /, and must be suffixed /. Put / for the server root. 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00064">64</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="11ea6dd746ca0526817bdd6515cbcc29"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVPINGPATHFRAGMENT" ref="11ea6dd746ca0526817bdd6515cbcc29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVPINGPATHFRAGMENT&nbsp;&nbsp;&nbsp;&quot;ping/?&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00068">68</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4468d0b44b441d03ea8270e09de86f65"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVPORT" ref="4468d0b44b441d03ea8270e09de86f65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVPORT&nbsp;&nbsp;&nbsp;80          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00059">59</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="29ca3acd6665cd70286185f3dd4ab09d"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVPORTALPATHFRAGMENT" ref="29ca3acd6665cd70286185f3dd4ab09d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVPORTALPATHFRAGMENT&nbsp;&nbsp;&nbsp;&quot;portal/?&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00066">66</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="784fe164c1e4d1e62365a2505460592a"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVSSLAVAILABLE" ref="784fe164c1e4d1e62365a2505460592a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVSSLAVAILABLE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Note that DEFAULT_AUTHSERVSSLAVAILABLE must be 0 or 1, even if the config file syntax is yes or no 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00062">62</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="eecec081c6ba90900777bc8db01f774f"></a><!-- doxytag: member="conf.h::DEFAULT_AUTHSERVSSLPORT" ref="eecec081c6ba90900777bc8db01f774f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUTHSERVSSLPORT&nbsp;&nbsp;&nbsp;443          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00060">60</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9bcb72263ba584b1da18d3b2f2b65e6a"></a><!-- doxytag: member="conf.h::DEFAULT_CHECKINTERVAL" ref="9bcb72263ba584b1da18d3b2f2b65e6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_CHECKINTERVAL&nbsp;&nbsp;&nbsp;60          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00054">54</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1ea67d2117d4f50445d1c9428bac5a64"></a><!-- doxytag: member="conf.h::DEFAULT_CLIENTTIMEOUT" ref="1ea67d2117d4f50445d1c9428bac5a64" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_CLIENTTIMEOUT&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00053">53</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0ec3017454ea7a8398d25c8ab83890fd"></a><!-- doxytag: member="conf.h::DEFAULT_CONFIGFILE" ref="0ec3017454ea7a8398d25c8ab83890fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_CONFIGFILE&nbsp;&nbsp;&nbsp;&quot;/etc/wifidog.conf&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defaults configuration values 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00041">41</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c71029bbf7b0ee40ad72b17ff77f7896"></a><!-- doxytag: member="conf.h::DEFAULT_DAEMON" ref="c71029bbf7b0ee40ad72b17ff77f7896" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_DAEMON&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00047">47</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00191">config_init_override()</a>.</p>

</div>
</div><p>
<a class="anchor" name="32198b3d9cda9e7ea18d9680f805dc87"></a><!-- doxytag: member="conf.h::DEFAULT_DEBUGLEVEL" ref="32198b3d9cda9e7ea18d9680f805dc87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_DEBUGLEVEL&nbsp;&nbsp;&nbsp;LOG_INFO          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00048">48</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e38786151577e46b298b7baf0ca0fe96"></a><!-- doxytag: member="conf.h::DEFAULT_GATEWAYID" ref="e38786151577e46b298b7baf0ca0fe96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_GATEWAYID&nbsp;&nbsp;&nbsp;NULL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00050">50</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f14cf5aa96a948b2d23a1ff0aeba3e48"></a><!-- doxytag: member="conf.h::DEFAULT_GATEWAYPORT" ref="f14cf5aa96a948b2d23a1ff0aeba3e48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_GATEWAYPORT&nbsp;&nbsp;&nbsp;2060          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00051">51</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="16581929d818bc322bbebce8a7a12117"></a><!-- doxytag: member="conf.h::DEFAULT_HTMLMSGFILE" ref="16581929d818bc322bbebce8a7a12117" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_HTMLMSGFILE&nbsp;&nbsp;&nbsp;&quot;/etc/wifidog-msg.html&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00042">42</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ca85302a5a857716f3b0275fbbff135f"></a><!-- doxytag: member="conf.h::DEFAULT_HTTPDMAXCONN" ref="ca85302a5a857716f3b0275fbbff135f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_HTTPDMAXCONN&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00049">49</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="af813a168a0bd5a77aa515073950a135"></a><!-- doxytag: member="conf.h::DEFAULT_HTTPDNAME" ref="af813a168a0bd5a77aa515073950a135" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_HTTPDNAME&nbsp;&nbsp;&nbsp;&quot;WiFiDog&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00052">52</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ea1d1da1ff4c9161109a81a0b1d6fd2c"></a><!-- doxytag: member="conf.h::DEFAULT_INTERNAL_SOCK" ref="ea1d1da1ff4c9161109a81a0b1d6fd2c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_INTERNAL_SOCK&nbsp;&nbsp;&nbsp;&quot;/tmp/wifidog.sock&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00058">58</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="41ce987eea16297a459249b1e4c69ed7"></a><!-- doxytag: member="conf.h::DEFAULT_LOG_SYSLOG" ref="41ce987eea16297a459249b1e4c69ed7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_LOG_SYSLOG&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00055">55</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="66cff01e093b0b7d5335a7939f839341"></a><!-- doxytag: member="conf.h::DEFAULT_SYSLOG_FACILITY" ref="66cff01e093b0b7d5335a7939f839341" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SYSLOG_FACILITY&nbsp;&nbsp;&nbsp;LOG_DAEMON          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00056">56</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cee7c0173f525e29800b87222b407386"></a><!-- doxytag: member="conf.h::DEFAULT_WDCTL_SOCK" ref="cee7c0173f525e29800b87222b407386" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_WDCTL_SOCK&nbsp;&nbsp;&nbsp;&quot;/tmp/wdctl.sock&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00057">57</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

<p>Referenced by <a class="el" href="conf_8c-source.html#l00159">config_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b67c119b3d066438d4c3405b518bb289"></a><!-- doxytag: member="conf.h::EXT_INTERFACE_DETECT_RETRY_INTERVAL" ref="b67c119b3d066438d4c3405b518bb289" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXT_INTERFACE_DETECT_RETRY_INTERVAL&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
How often should we try to detect the interface with the default route if it isn't up yet (interval in seconds) 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00037">37</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d76ac64532ff817e332a6361a59231cb"></a><!-- doxytag: member="conf.h::LOCK_CONFIG" ref="d76ac64532ff817e332a6361a59231cb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_CONFIG          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
        <a class="code" href="debug_8h.html#522ebc0c3c064e7ddf37eda0ee8c3f8a" title="Used to output messages. The messages will include the finlname and line number,...">debug</a>(LOG_DEBUG, <span class="stringliteral">"Locking config"</span>); \
        pthread_mutex_lock(&amp;<a class="code" href="centralserver_8c.html#b374ff230d9977e6b952612d61689f39">config_mutex</a>); \
        <a class="code" href="debug_8h.html#522ebc0c3c064e7ddf37eda0ee8c3f8a" title="Used to output messages. The messages will include the finlname and line number,...">debug</a>(LOG_DEBUG, <span class="stringliteral">"Config locked"</span>); \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="conf_8h-source.html#l00184">184</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="771a6a60dbaa6c7532ab6cd31b397f7d"></a><!-- doxytag: member="conf.h::NUM_EXT_INTERFACE_DETECT_RETRY" ref="771a6a60dbaa6c7532ab6cd31b397f7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_EXT_INTERFACE_DETECT_RETRY&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines How many times should we try detecting the interface with the default route (in seconds). If set to 0, it will keep retrying forever 
<p>Definition at line <a class="el" href="conf_8h-source.html#l00034">34</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fac07fdf02de5cace1687c411ee42d56"></a><!-- doxytag: member="conf.h::UNLOCK_CONFIG" ref="fac07fdf02de5cace1687c411ee42d56" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_CONFIG          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
        <a class="code" href="debug_8h.html#522ebc0c3c064e7ddf37eda0ee8c3f8a" title="Used to output messages. The messages will include the finlname and line number,...">debug</a>(LOG_DEBUG, <span class="stringliteral">"Unlocking config"</span>); \
        pthread_mutex_unlock(&amp;<a class="code" href="centralserver_8c.html#b374ff230d9977e6b952612d61689f39">config_mutex</a>); \
        <a class="code" href="debug_8h.html#522ebc0c3c064e7ddf37eda0ee8c3f8a" title="Used to output messages. The messages will include the finlname and line number,...">debug</a>(LOG_DEBUG, <span class="stringliteral">"Config unlocked"</span>); \
} <span class="keywordflow">while</span> (0)
</pre></div>
<p>Definition at line <a class="el" href="conf_8h-source.html#l00190">190</a> of file <a class="el" href="conf_8h-source.html">conf.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="64e73012596dd6628c18742c8046069f"></a><!-- doxytag: member="conf.h::config_get_config" ref="64e73012596dd6628c18742c8046069f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structs__config.html">s_config</a>* config_get_config           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current gateway configuration. 
<p>
Accessor for the current gateway configuration <dl class="return" compact><dt><b>Returns:</b></dt><dd>: A pointer to the current config. The pointer isn't opaque, but should be treated as READ-ONLY </dd></dl>

<p>Definition at line <a class="el" href="conf_8c-source.html#l00152">152</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>Referenced by <a class="el" href="centralserver_8c-source.html#l00207">_connect_auth_server()</a>, <a class="el" href="centralserver_8c-source.html#l00065">auth_server_request()</a>, <a class="el" href="auth_8c-source.html#l00094">authenticate_client()</a>, <a class="el" href="firewall_8c-source.html#l00224">fw_sync_with_authserver()</a>, <a class="el" href="http_8c-source.html#l00064">http_callback_404()</a>, <a class="el" href="http_8c-source.html#l00222">http_callback_auth()</a>, <a class="el" href="http_8c-source.html#l00138">http_callback_status()</a>, <a class="el" href="fw__iptables_8c-source.html#l00220">iptables_fw_init()</a>, <a class="el" href="fw__iptables_8c-source.html#l00201">iptables_fw_set_authservers()</a>, <a class="el" href="commandline_8c-source.html#l00077">parse_commandline()</a>, <a class="el" href="ping__thread_8c-source.html#l00094">ping()</a>, <a class="el" href="http_8c-source.html#l00289">send_http_page()</a>, <a class="el" href="auth_8c-source.html#l00063">thread_client_timeout_check()</a>, and <a class="el" href="ping__thread_8c-source.html#l00064">thread_ping()</a>.</p>

</div>
</div><p>
<a class="anchor" name="068a358868c409bbd99d7eef3c988866"></a><!-- doxytag: member="conf.h::config_init" ref="068a358868c409bbd99d7eef3c988866" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void config_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise the conf system. 
<p>
Sets the default config parameters and initialises the configuration system 
<p>Definition at line <a class="el" href="conf_8c-source.html#l00159">159</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00139">s_config::auth_servers</a>, <a class="el" href="conf_8h-source.html#l00149">s_config::checkinterval</a>, <a class="el" href="conf_8h-source.html#l00147">s_config::clienttimeout</a>, <a class="el" href="conf_8h-source.html#l00124">s_config::configfile</a>, <a class="el" href="conf_8h-source.html#l00128">s_config::daemon</a>, <a class="el" href="debug_8h-source.html#l00033">debug</a>, <a class="el" href="conf_8h-source.html#l00129">s_config::debuglevel</a>, <a class="el" href="conf_8h-source.html#l00054">DEFAULT_CHECKINTERVAL</a>, <a class="el" href="conf_8h-source.html#l00053">DEFAULT_CLIENTTIMEOUT</a>, <a class="el" href="conf_8h-source.html#l00041">DEFAULT_CONFIGFILE</a>, <a class="el" href="conf_8h-source.html#l00048">DEFAULT_DEBUGLEVEL</a>, <a class="el" href="conf_8h-source.html#l00050">DEFAULT_GATEWAYID</a>, <a class="el" href="conf_8h-source.html#l00051">DEFAULT_GATEWAYPORT</a>, <a class="el" href="conf_8h-source.html#l00042">DEFAULT_HTMLMSGFILE</a>, <a class="el" href="conf_8h-source.html#l00049">DEFAULT_HTTPDMAXCONN</a>, <a class="el" href="conf_8h-source.html#l00052">DEFAULT_HTTPDNAME</a>, <a class="el" href="conf_8h-source.html#l00058">DEFAULT_INTERNAL_SOCK</a>, <a class="el" href="conf_8h-source.html#l00055">DEFAULT_LOG_SYSLOG</a>, <a class="el" href="conf_8h-source.html#l00056">DEFAULT_SYSLOG_FACILITY</a>, <a class="el" href="conf_8h-source.html#l00057">DEFAULT_WDCTL_SOCK</a>, <a class="el" href="conf_8h-source.html#l00130">s_config::external_interface</a>, <a class="el" href="conf_8h-source.html#l00135">s_config::gw_address</a>, <a class="el" href="conf_8h-source.html#l00132">s_config::gw_id</a>, <a class="el" href="conf_8h-source.html#l00134">s_config::gw_interface</a>, <a class="el" href="conf_8h-source.html#l00137">s_config::gw_port</a>, <a class="el" href="conf_8h-source.html#l00125">s_config::htmlmsgfile</a>, <a class="el" href="conf_8h-source.html#l00142">s_config::httpdmaxconn</a>, <a class="el" href="conf_8h-source.html#l00140">s_config::httpdname</a>, <a class="el" href="conf_8h-source.html#l00146">s_config::httpdpassword</a>, <a class="el" href="conf_8h-source.html#l00144">s_config::httpdrealm</a>, <a class="el" href="conf_8h-source.html#l00145">s_config::httpdusername</a>, <a class="el" href="conf_8h-source.html#l00127">s_config::internal_sock</a>, <a class="el" href="conf_8h-source.html#l00151">s_config::log_syslog</a>, <a class="el" href="conf_8h-source.html#l00154">s_config::rulesets</a>, <a class="el" href="conf_8h-source.html#l00152">s_config::syslog_facility</a>, <a class="el" href="conf_8h-source.html#l00155">s_config::trustedmaclist</a>, and <a class="el" href="conf_8h-source.html#l00126">s_config::wdctl_sock</a>.</p>

</div>
</div><p>
<a class="anchor" name="17b6b425f18de3865e44b534c1f1f1cc"></a><!-- doxytag: member="conf.h::config_init_override" ref="17b6b425f18de3865e44b534c1f1f1cc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void config_init_override           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the variables we override with the command line. 
<p>
If the command-line didn't provide a config, use the default. 
<p>Definition at line <a class="el" href="conf_8c-source.html#l00191">191</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00128">s_config::daemon</a>, and <a class="el" href="conf_8h-source.html#l00047">DEFAULT_DAEMON</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3faac0efa0ac4c1032c0c54f7e93711"></a><!-- doxytag: member="conf.h::config_read" ref="d3faac0efa0ac4c1032c0c54f7e93711" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void config_read           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the configuration file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Full path of the configuration file to be read </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="conf_8c-source.html#l00632">632</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00149">s_config::checkinterval</a>, <a class="el" href="conf_8h-source.html#l00147">s_config::clienttimeout</a>, <a class="el" href="conf_8h-source.html#l00128">s_config::daemon</a>, <a class="el" href="debug_8h-source.html#l00033">debug</a>, <a class="el" href="conf_8h-source.html#l00130">s_config::external_interface</a>, <a class="el" href="conf_8h-source.html#l00135">s_config::gw_address</a>, <a class="el" href="conf_8h-source.html#l00132">s_config::gw_id</a>, <a class="el" href="conf_8h-source.html#l00134">s_config::gw_interface</a>, <a class="el" href="conf_8h-source.html#l00137">s_config::gw_port</a>, <a class="el" href="conf_8h-source.html#l00125">s_config::htmlmsgfile</a>, <a class="el" href="conf_8h-source.html#l00142">s_config::httpdmaxconn</a>, <a class="el" href="conf_8h-source.html#l00140">s_config::httpdname</a>, <a class="el" href="conf_8h-source.html#l00146">s_config::httpdpassword</a>, <a class="el" href="conf_8h-source.html#l00144">s_config::httpdrealm</a>, <a class="el" href="conf_8h-source.html#l00145">s_config::httpdusername</a>, <a class="el" href="common_8h-source.html#l00031">MAX_BUF</a>, <a class="el" href="conf_8h-source.html#l00152">s_config::syslog_facility</a>, and <a class="el" href="conf_8h-source.html#l00126">s_config::wdctl_sock</a>.</p>

</div>
</div><p>
<a class="anchor" name="0f9540b3f729ba3b3d31b613d3eca364"></a><!-- doxytag: member="conf.h::config_validate" ref="0f9540b3f729ba3b3d31b613d3eca364" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void config_validate           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the configuration is valid. 
<p>
Verifies if the configuration is complete and valid. Terminates the program if it isn't 
<p>Definition at line <a class="el" href="conf_8c-source.html#l00828">828</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00139">s_config::auth_servers</a>, <a class="el" href="debug_8h-source.html#l00033">debug</a>, and <a class="el" href="conf_8h-source.html#l00134">s_config::gw_interface</a>.</p>

</div>
</div><p>
<a class="anchor" name="82ffcd3c683aadc31aca9c53a2d2739a"></a><!-- doxytag: member="conf.h::get_auth_server" ref="82ffcd3c683aadc31aca9c53a2d2739a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__auth__serv__t.html">t_auth_serv</a>* get_auth_server           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the active auth server. 
<p>
This function returns the current (first auth_server) 
<p>Definition at line <a class="el" href="conf_8c-source.html#l00855">855</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00139">s_config::auth_servers</a>.</p>

<p>Referenced by <a class="el" href="centralserver_8c-source.html#l00065">auth_server_request()</a>, <a class="el" href="auth_8c-source.html#l00094">authenticate_client()</a>, <a class="el" href="http_8c-source.html#l00064">http_callback_404()</a>, <a class="el" href="http_8c-source.html#l00222">http_callback_auth()</a>, <a class="el" href="http_8c-source.html#l00162">http_send_redirect_to_auth()</a>, and <a class="el" href="ping__thread_8c-source.html#l00094">ping()</a>.</p>

</div>
</div><p>
<a class="anchor" name="545ee1dadc18a259ffd0d798f999ddc3"></a><!-- doxytag: member="conf.h::get_ruleset" ref="545ee1dadc18a259ffd0d798f999ddc3" args="(const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__firewall__rule__t.html">t_firewall_rule</a>* get_ruleset           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetch a firewall rule set. 
<p>

<p>Definition at line <a class="el" href="conf_8c-source.html#l00615">615</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00107">_firewall_ruleset_t::name</a>, <a class="el" href="conf_8h-source.html#l00109">_firewall_ruleset_t::next</a>, <a class="el" href="conf_8h-source.html#l00108">_firewall_ruleset_t::rules</a>, and <a class="el" href="conf_8h-source.html#l00154">s_config::rulesets</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d674c58e3d919b7cd55aa12ed52be3c"></a><!-- doxytag: member="conf.h::mark_auth_server_bad" ref="9d674c58e3d919b7cd55aa12ed52be3c" args="(t_auth_serv *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_auth_server_bad           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__auth__serv__t.html">t_auth_serv</a> *&nbsp;</td>
          <td class="paramname"> <em>bad_server</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Bump server to bottom of the list. 
<p>
This function marks the current auth_server, if it matches the argument, as bad. Basically, the "bad" server becomes the last one on the list. 
<p>Definition at line <a class="el" href="conf_8c-source.html#l00867">867</a> of file <a class="el" href="conf_8c-source.html">conf.c</a>.</p>

<p>References <a class="el" href="conf_8h-source.html#l00139">s_config::auth_servers</a>, and <a class="el" href="conf_8h-source.html#l00089">_auth_serv_t::next</a>.</p>

<p>Referenced by <a class="el" href="centralserver_8c-source.html#l00207">_connect_auth_server()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Sep 25 15:28:43 2009 for WifiDog by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
